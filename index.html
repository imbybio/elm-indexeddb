<!DOCTYPE HTML>
<html>

<head>
  <meta charset="UTF-8">
  <title>IndexedDb â€¢ prototype</title>
  <script type="text/javascript" src="elm.js"></script>
</head>

<body>
</body>

<script type="text/javascript">
var app = Elm.Main.fullscreen();

var indexedDB = window.indexedDB || window.mozIndexedDB || window.webkitIndexedDB || window.msIndexedDB;

app.ports.openDb.subscribe(function(dbname) {
    var request = indexedDB.open(dbname);
    request.onerror = function(event) {
      app.ports.openDbOnError.send(event);
    }
    request.onsuccess = function(event) {
      app.ports.openDbOnSuccess.send(event);
    }
    request.onupgradeneeded = function(event) {
      app.ports.openDbOnUpgradeNeeded.send(event);
    }
});
</script>

</html>
